# Otus Homework 9. Systemd
### Цель домашнего задания
Научиться редактировать существующие и создавать новые unit-файлы
### Описание домашнего задания
Выполнить следующие задания и подготовить развёртывание результата выполнения с использованием Vagrant и Vagrant shell provisioner:
1. Написать service, который будет раз в 30 секунд мониторить лог на предмет наличия ключевого слова (файл лога и ключевое слово должны задаваться в /etc/sysconfig или в /etc/default).
2. Установить spawn-fcgi и переписать init-скрипт на unit-файл (имя service должно называться так же: spawn-fcgi).
3. Дополнить unit-файл httpd (он же apache2) возможностью запустить несколько инстансов сервера с разными конфигурационными файлами.
## Выволнение
Домашнее задание выполняется с помощью bash скриптов, добавленного в Vagrantfile.
### Написать service, который будет раз в 30 секунд мониторить лог на предмет наличия ключевого слова
В результате работы скрипта **monitor.sh** создается *Timer* *otusmon.timer*, который каждые 30 секунд запускает *Unit* **otusmon.service**. *Unit* в свою очередь запускает скрипт */opt/otusmon.sh*, проверяющий log файл на наличие ключевого слова. В случае успеха результат записывает в */var/log/messages*. Можем в этом убедиться:
```bash
Apr 17 10:58:04 localhost systemd: Starting Log Monitroing Service...
Apr 17 10:58:04 localhost root: Wed Apr 17 10:58:04 UTC 2024: key word was found!
Apr 17 10:58:04 localhost systemd: Started Log Monitroing Service.
```


